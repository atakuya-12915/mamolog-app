<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Todo一覧</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<h1>Todo一覧</h1>

<p>未完了: <span th:text="${todoList != null ? todoList.size() : 0}">0</span> / 完了: <span th:text="${completedList != null ? completedList.size() : 0}">0</span></p>

<table border="1">
  <tr>
    <th>タイトル</th>
    <th>メモ</th>
    <th>完了</th>
    <th>操作</th>
  </tr>

  <tr th:each="todo : ${todoList}">
    <td th:text="${todo.title}">タイトル</td>
    <td th:text="${todo.memo}">メモ</td>
    <td th:text="${todo.completed ? '済' : '未'}">未</td>
    <td>
      <a th:href="@{/todos/{id}/edit(id=${todo.id})}">編集</a>
      |
      <a th:href="@{/todos/{id}/toggle(id=${todo.id})}">完了切替</a>
    </td>
  </tr>
</table>

<p><a th:href="@{/todos/new}">新規作成</a></p>
<p><a href="/home">Homeに戻る</a></p>
</body>
</html>
