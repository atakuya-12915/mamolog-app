<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Todo編集</title>
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/todo-new.css" />
</head>

<body>
	<h1>Todo編集</h1>

	<form th:action="@{/todos/{id}/update(id=${todo.id})}" th:object="${todo}" method="post">
		<p>タイトル: <input type="text" th:field="*{title}" required /></p>
		<p>メモ: <input type="text" th:field="*{memo}" /></p>

		<p>担当者:
			<select th:field="*{account}" required>
				<option value="ぱぱ" th:selected="${todo.account=='ぱぱ'}">ぱぱ</option>
				<option value="まま" th:selected="${todo.account=='まま'}">まま</option>
			</select>
		</p>

		<p>カテゴリ:
			<select name="category.id">
				<option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"
					th:selected="${todo.category != null ? cat.id == todo.category.id : false}">
				</option>
			</select>
		</p>

		<p>期限日: <input type="date" th:field="*{dueDateTime}" required /></p>
		<p>完了: <input type="checkbox" th:field="*{completed}" /></p>

		<button type="submit">更新</button>
	</form>

	<p><a th:href="@{/todos}">戻る</a></p>

	<script src="js/todo-new.js"></script>
</body>

</html>